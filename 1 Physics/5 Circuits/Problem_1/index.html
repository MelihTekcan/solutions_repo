<!DOCTYPE html>

<html class="writer-html5" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<link href="../../../img/favicon.ico" rel="shortcut icon"/>
<title>Problem 1 - Physics and Mathematics</title>
<link href="../../../css/theme.css" rel="stylesheet"/>
<link href="../../../css/theme_extra.css" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" rel="stylesheet"/>
<script>
        // Current page data
        var mkdocs_page_name = "Problem 1";
        var mkdocs_page_input_path = "1 Physics/5 Circuits/Problem_1.md";
        var mkdocs_page_url = null;
      </script>
<!--[if lt IE 9]>
      <script src="../../../js/html5shiv.min.js"></script>
    <![endif]-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/python.min.js"></script>
<script>hljs.highlightAll();</script>
</head>
<body class="wy-body-for-nav" role="document">
<div class="wy-grid-for-nav">
<nav class="wy-nav-side stickynav" data-toggle="wy-nav-shift">
<div class="wy-side-scroll">
<div class="wy-side-nav-search">
<a class="icon icon-home" href="../../.."> Physics and Mathematics
        </a><div role="search">
<form action="../../../search.html" class="wy-form" id="rtd-search-form" method="get">
<input aria-label="Search docs" name="q" placeholder="Search docs" title="Type search term here" type="text"/>
</form>
</div>
</div>
<div aria-label="Navigation menu" class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation">
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../..">Introduction</a>
</li>
</ul>
<p class="caption"><span class="caption-text">1 Physics</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal">1 Mechanics</a>
<ul>
<li class="toctree-l2"><a class="reference internal" href="../../1%20Mechanics/Problem_1/">Problem 1</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../1%20Mechanics/Problem_2/">Problem 2</a>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal">2 Gravity</a>
<ul>
<li class="toctree-l2"><a class="reference internal" href="../../2%20Gravity/Problem_1/">Problem 1</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../2%20Gravity/Problem_2/">Problem 2</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../2%20Gravity/Problem_3/">Problem 3</a>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal">3 Waves</a>
<ul>
<li class="toctree-l2"><a class="reference internal" href="../../3%20Waves/Problem_1/">Problem 1</a>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal">4 Electromagnetism</a>
<ul>
<li class="toctree-l2"><a class="reference internal" href="../../4%20Electromagnetism/Problem_1/">Problem 1: Simulating the Effects of the Lorentz Force</a>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal current">5 Circuits</a>
<ul class="current">
<li class="toctree-l2 current"><a class="reference internal current" href="#">Problem 1</a>
<ul class="current">
<li class="toctree-l3"><a class="reference internal" href="#equivalent-resistance-calculation-using-graph-theory">Equivalent Resistance Calculation Using Graph Theory</a>
</li>
<li class="toctree-l3"><a class="reference internal" href="#introduction">Introduction</a>
</li>
<li class="toctree-l3"><a class="reference internal" href="#theory">Theory</a>
<ul>
<li class="toctree-l4"><a class="reference internal" href="#traditional-methods-vs-graph-theory">Traditional Methods vs. Graph Theory</a>
</li>
<li class="toctree-l4"><a class="reference internal" href="#benefits-of-using-graph-theory">Benefits of Using Graph Theory</a>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#task-implementing-equivalent-resistance-calculation-using-graph-theory">Task: Implementing Equivalent Resistance Calculation Using Graph Theory</a>
<ul>
<li class="toctree-l4"><a class="reference internal" href="#algorithm-description">Algorithm Description</a>
</li>
<li class="toctree-l4"><a class="reference internal" href="#python-implementation">Python Implementation</a>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal">6 Statistics</a>
<ul>
<li class="toctree-l2"><a class="reference internal" href="../../6%20Statistics/Problem_1/">Problem 1</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../6%20Statistics/Problem_2/">Problem 2</a>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal">7 Measurements</a>
<ul>
<li class="toctree-l2"><a class="reference internal" href="../../7%20Measurements/Problem_1/">Problem 1</a>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">2 Mathematics</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../2%20Mathematics/1%20Linear_algebra/">Linear Algebra</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../2%20Mathematics/2%20Analytic_geometry/">Analytic geometry</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../2%20Mathematics/3%20Calculus/">Calculus</a>
</li>
</ul>
<p class="caption"><span class="caption-text">3 Discret Mathematics</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal">1 Set Theory and ...</a>
<ul>
<li class="toctree-l2"><a class="reference internal" href="../../../3%20Discret_Mathematics/1%20Set%20Theory%20and%20.../_02%20Set_Theory/">Set Theory</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../3%20Discret_Mathematics/1%20Set%20Theory%20and%20.../_03%20Relations/">Relations</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../3%20Discret_Mathematics/1%20Set%20Theory%20and%20.../_04%20Functions/">Functions</a>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal">2 Number Theory and ...</a>
<ul>
<li class="toctree-l2"><a class="reference internal" href="../../../3%20Discret_Mathematics/2%20Number%20Theory%20and%20.../_05%20Combinatorics/">Combinatorics</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../3%20Discret_Mathematics/2%20Number%20Theory%20and%20.../_08%20Number_Theory/">Number Theory</a>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal">3 Recurrence and ...</a>
<ul>
<li class="toctree-l2"><a class="reference internal" href="../../../3%20Discret_Mathematics/3%20Recurrence%20and%20.../_06%20Sequences_and_Series/">Sequences and Series</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../3%20Discret_Mathematics/3%20Recurrence%20and%20.../_07%20Induction/">Induction</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../3%20Discret_Mathematics/3%20Recurrence%20and%20.../_09%20Recurrence/">Recurrence</a>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal">4 Graph Theory and ...</a>
<ul>
<li class="toctree-l2"><a class="reference internal" href="../../../3%20Discret_Mathematics/4%20Graph%20Theory%20and%20.../_10%20Graph_Theory/">Graph Theory</a>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal">5 Logic</a>
<ul>
<li class="toctree-l2"><a class="reference internal" href="../../../3%20Discret_Mathematics/5%20Logic/_01%20Logic/">Logic</a>
</li>
</ul>
</li>
</ul>
</div>
</div>
</nav>
<section class="wy-nav-content-wrap" data-toggle="wy-nav-shift">
<nav aria-label="Mobile navigation menu" class="wy-nav-top" role="navigation">
<i class="fa fa-bars" data-toggle="wy-nav-top"></i>
<a href="../../..">Physics and Mathematics</a>
</nav>
<div class="wy-nav-content">
<div class="rst-content"><div aria-label="breadcrumbs navigation" role="navigation">
<ul class="wy-breadcrumbs">
<li><a aria-label="Docs" class="icon icon-home" href="../../.."></a></li>
<li class="breadcrumb-item">1 Physics</li>
<li class="breadcrumb-item">5 Circuits</li>
<li class="breadcrumb-item active">Problem 1</li>
<li class="wy-breadcrumbs-aside">
</li>
</ul>
<hr/>
</div>
<div class="document" itemscope="itemscope" itemtype="http://schema.org/Article" role="main">
<div class="section" itemprop="articleBody">
<h1 id="problem-1">Problem 1</h1>
<h2 id="equivalent-resistance-calculation-using-graph-theory"><strong>Equivalent Resistance Calculation Using Graph Theory</strong></h2>
<h2 id="introduction"><strong>Introduction</strong></h2>
<p>Calculating the equivalent resistance of a circuit is a fundamental problem in electrical engineering. Traditional methods, which involve iteratively applying series and parallel resistor rules, can become complex and cumbersome for intricate circuits. Graph theory offers a powerful and systematic alternative by representing a circuit as a graph, where nodes are junctions and edges are resistors. This approach not only simplifies calculations but also provides a deeper understanding of circuit analysis.</p>
<hr/>
<h2 id="theory"><strong>Theory</strong></h2>
<h3 id="traditional-methods-vs-graph-theory"><strong>Traditional Methods vs. Graph Theory</strong></h3>
<ul>
<li><strong>Traditional Methods</strong>: Iteratively applying series and parallel resistor rules.</li>
<li><strong>Graph Theory</strong>: Representing a circuit as a graph simplifies complex networks.</li>
</ul>
<h3 id="benefits-of-using-graph-theory"><strong>Benefits of Using Graph Theory</strong></h3>
<ol>
<li><strong>Systematic Approach</strong>: Provides a structured way to analyze circuits.</li>
<li><strong>Simplification</strong>: Simplifies complex networks into manageable graphs.</li>
<li><strong>Automation</strong>: Enables automated circuit analysis, useful in simulation software.</li>
<li><strong>Versatility</strong>: Highlights the interplay between electrical and mathematical concepts.</li>
</ol>
<hr/>
<h2 id="task-implementing-equivalent-resistance-calculation-using-graph-theory"><strong>Task: Implementing Equivalent Resistance Calculation Using Graph Theory</strong></h2>
<h3 id="algorithm-description"><strong>Algorithm Description</strong></h3>
<p>The algorithm for calculating equivalent resistance using graph theory involves the following steps:</p>
<ol>
<li><strong>Graph Representation</strong>:</li>
<li>
<p>Represent the circuit as a graph where:</p>
<ul>
<li>Nodes: Junctions in the circuit.</li>
<li>Edges: Resistors connecting the junctions.</li>
<li>Edge Weights: Resistance values of the resistors.</li>
</ul>
</li>
<li>
<p><strong>Iterative Simplification</strong>:</p>
</li>
<li>
<p>Iteratively reduce the graph by identifying and simplifying series and parallel connections.</p>
</li>
<li>
<p><strong>Series Reduction</strong>:</p>
</li>
<li>Identify series connections (linear chains of resistors).</li>
<li>
<p>Replace each series connection with a single equivalent resistor by summing their resistance values.</p>
</li>
<li>
<p><strong>Parallel Reduction</strong>:</p>
</li>
<li>Identify parallel connections (resistors connected between the same two nodes).</li>
<li>
<p>Replace each parallel connection with a single equivalent resistor using the formula:
     $$
     R_{\text{eq}} = \left( \sum_{i=1}^{n} \frac{1}{R_i} \right)^{-1}
     $$</p>
</li>
<li>
<p><strong>Termination</strong>:</p>
</li>
<li>Repeat steps 3 and 4 until the graph is reduced to a single equivalent resistance between the input and output nodes.</li>
</ol>
<h3 id="python-implementation"><strong>Python Implementation</strong></h3>
<pre><code class="language-python">
import networkx as nx
import matplotlib.pyplot as plt
import numpy as np

def calculate_equivalent_resistance(graph, input_node, output_node):
    """
    Calculate the equivalent resistance of a circuit represented as a graph.

    Parameters:
    - graph (nx.Graph): A networkx graph representing the circuit.
      Nodes are junctions, and edges are resistors with 'resistance' attribute.
    - input_node (str): The starting node for resistance calculation.
    - output_node (str): The ending node for resistance calculation.

    Returns:
    - float: The equivalent resistance between the input and output nodes.
    """
    graph = graph.copy()  # Operate on a copy to avoid modifying the original graph

    while len(graph.nodes) &gt; 2:
        # Series Reduction
        for node in list(graph.nodes):  # Iterate over a copy of the nodes
            if graph.degree(node) == 2:
                edges = list(graph.edges(node, data=True))
                if len(edges) == 2:
                    node1, node2, data1 = edges[0][0], edges[0][1], edges[0][2]
                    node3, node4, data2 = edges[1][0], edges[1][1], edges[1][2]

                    r1 = data1['resistance']
                    r2 = data2['resistance']
                    R_eq = r1 + r2

                    # Remove the series connection
                    graph.remove_node(node)

                    # Add the equivalent resistor
                    new_node1 = node1 if node1 != node else node3
                    new_node2 = node2 if node2 != node else node4
                    graph.add_edge(new_node1, new_node2, resistance=R_eq)
                break  # Break to restart the loop after modification

        # Parallel Reduction
        for node1 in list(graph.nodes):
            for node2 in list(graph.nodes):
                if node1 != node2 and graph.has_edge(node1, node2):
                    edges_between = [(u, v, data) for u, v, data in graph.edges(data=True)
                                     if ((u == node1 and v == node2) or (u == node2 and v == node1))]

                    if len(edges_between) &gt; 1:
                        R_eq = (sum(1 / data['resistance'] for u, v, data in edges_between))**(-1)

                        # Remove parallel resistors
                        edges_to_remove = [(u, v) for u, v, data in edges_between]
                        for u, v in edges_to_remove:
                            graph.remove_edge(u, v)

                        # Add the equivalent resistor
                        graph.add_edge(node1, node2, resistance=R_eq)
                break  # Break to restart the loop after modification

    # Return the final equivalent resistance
    for u, v, data in graph.edges(data=True):
        return data['resistance']
    return 0  # If no resistance is found

def visualize_circuit(graph, title="Circuit Diagram", pos=None):
    """
    Visualizes the circuit graph using matplotlib.
    """
    if pos is None:
        pos = nx.spring_layout(graph)  # You can use other layout algorithms

    plt.figure(figsize=(10, 8))  # Adjust figure size for better visualization
    nx.draw(graph, pos, with_labels=True, node_color='skyblue', node_size=800, font_size=12, font_weight='bold',
            edgecolors='gray', linewidths=0.5)  # Added edgecolors for better node visibility
    edge_labels = nx.get_edge_attributes(graph, 'resistance')
    nx.draw_networkx_edge_labels(graph, pos, edge_labels=edge_labels, font_size=10, bbox=dict(alpha=0.7, edgecolor="none"))  # Added bbox for label readability
    plt.title(title, fontsize=16)  # Increased title font size
    plt.box(False)  # Remove the surrounding box
    plt.show()
    return pos  # Return the layout for consistent visualization

def simulate_circuit(graph, input_node, output_node, voltage_source):
    """
    Simulates the circuit to calculate currents and voltages using linear equations.

    Parameters:
    - graph (nx.Graph): A networkx graph representing the circuit.
      Nodes are junctions, and edges are resistors with 'resistance' attribute.
    - input_node (str): The starting node for voltage source.
    - output_node (str): The ending node for voltage source (ground).
    - voltage_source (float): Voltage of the source.

    Returns:
    - dict: Dictionary of node voltages and edge currents.
    """

    # Create the admittance matrix and source vector
    num_nodes = len(graph.nodes)
    node_index = {node: i for i, node in enumerate(graph.nodes)}
    Y = np.zeros((num_nodes, num_nodes))
    I = np.zeros(num_nodes)

    # Fill the admittance matrix
    for u, v, data in graph.edges(data=True):
        r = data['resistance']
        g = 1 / r  # Conductance
        i = node_index[u]
        j = node_index[v]

        Y[i, i] += g
        Y[j, j] += g
        Y[i, j] -= g
        Y[j, i] -= g

    # Add the voltage source
    input_index = node_index[input_node]
    output_index = node_index[output_node]
    Y[input_index, :] = 0
    Y[output_index, :] = 0
    Y[input_index, input_index] = 1
    Y[output_index, output_index] = 1
    I[input_index] = voltage_source
    I[output_index] = 0

    # Solve for node voltages
    try:
        V = np.linalg.solve(Y, I)
    except np.linalg.LinAlgError:
        print("Singular matrix! Check your circuit configuration.")
        return None

    node_voltages = {node: V[i] for node, i in node_index.items()}

    # Calculate edge currents
    edge_currents = {}
    for u, v, data in graph.edges(data=True):
        r = data['resistance']
        V_u = node_voltages[u]
        V_v = node_voltages[v]
        I_uv = (V_u - V_v) / r
        edge_currents[(u, v)] = I_uv

    return node_voltages, edge_currents

def display_simulation_results(graph, node_voltages, edge_currents, pos):
    """
    Displays the simulation results on the circuit diagram.
    """
    if node_voltages is None:
        return

    plt.figure(figsize=(12, 10))
    nx.draw(graph, pos, with_labels=True, node_color='skyblue', node_size=800, font_size=12, font_weight='bold',
            edgecolors='gray', linewidths=0.5)

    # Display resistance values
    edge_labels_resistance = nx.get_edge_attributes(graph, 'resistance')
    nx.draw_networkx_edge_labels(graph, pos, edge_labels=edge_labels_resistance, font_size=8,
                                bbox=dict(alpha=0.7, edgecolor="none"))

    # Display voltage values
    node_labels_voltage = {node: f"{voltage:.2f}V" for node, voltage in node_voltages.items()}
    nx.draw_networkx_labels(graph, pos, labels=node_labels_voltage, font_size=8, font_color='green',
                            bbox=dict(alpha=0.7, edgecolor="none"))

    # Display current values
    edge_labels_current = {edge: f"{current:.2f}A" for edge, current in edge_currents.items()}
    nx.draw_networkx_edge_labels(graph, pos, edge_labels=edge_labels_current, font_size=8, font_color='red',
                                bbox=dict(alpha=0.7, edgecolor="none"), label_pos=0.7)  # Adjust label_pos for better placement

    plt.title("Circuit Simulation Results", fontsize=16)
    plt.box(False)
    plt.show()

# Example 1: Simple Series and Parallel Combination
graph1 = nx.Graph()
graph1.add_edge('A', 'B', resistance=10)
graph1.add_edge('B', 'C', resistance=20)
graph1.add_edge('A', 'C', resistance=30)
pos1 = visualize_circuit(graph1, title="Example 1: Simple Series and Parallel")
R_eq1 = calculate_equivalent_resistance(graph1, 'A', 'C')
print(f"Equivalent Resistance for Example 1: {R_eq1:.2f} ohms")
node_voltages1, edge_currents1 = simulate_circuit(graph1, 'A', 'C', 12)
if node_voltages1:
    display_simulation_results(graph1, node_voltages1, edge_currents1, pos1)

# Example 2: Nested Configuration
graph2 = nx.Graph()
graph2.add_edge('A', 'B', resistance=10)
graph2.add_edge('B', 'C', resistance=20)
graph2.add_edge('A', 'D', resistance=30)
graph2.add_edge('D', 'C', resistance=40)
pos2 = visualize_circuit(graph2, title="Example 2: Nested Configuration")
R_eq2 = calculate_equivalent_resistance(graph2, 'A', 'C')
print(f"Equivalent Resistance for Example 2: {R_eq2:.2f} ohms")
node_voltages2, edge_currents2 = simulate_circuit(graph2, 'A', 'C', 12)
if node_voltages2:
    display_simulation_results(graph2, node_voltages2, edge_currents2, pos2)

# Example 3: Complex Graph with Multiple Cycles
graph3 = nx.Graph()
graph3.add_edge('A', 'B', resistance=10)
graph3.add_edge('B', 'C', resistance=20)
graph3.add_edge('C', 'D', resistance=30)
graph3.add_edge('D', 'A', resistance=40)
graph3.add_edge('A', 'C', resistance=50)
pos3 = visualize_circuit(graph3, title="Example 3: Complex Graph with Multiple Cycles")
R_eq3 = calculate_equivalent_resistance(graph3, 'A', 'D')
print(f"Equivalent Resistance for Example 3: {R_eq3:.2f} ohms")
node_voltages3, edge_currents3 = simulate_circuit(graph3, 'A', 'D', 12)
if node_voltages3:
    display_simulation_results(graph3, node_voltages3, edge_currents3, pos3)

</code></pre>
</div>
</div><footer>
<div aria-label="Footer Navigation" class="rst-footer-buttons" role="navigation">
<a class="btn btn-neutral float-left" href="../../4%20Electromagnetism/Problem_1/" title="Problem 1: Simulating the Effects of the Lorentz Force"><span class="icon icon-circle-arrow-left"></span> Previous</a>
<a class="btn btn-neutral float-right" href="../../6%20Statistics/Problem_1/" title="Problem 1">Next <span class="icon icon-circle-arrow-right"></span></a>
</div>
<hr/>
<div role="contentinfo">
<!-- Copyright etc -->
</div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
</div>
</div>
</section>
</div>
<div aria-label="Versions" class="rst-versions" role="note">
<span class="rst-current-version" data-toggle="rst-current-version">
<span><a href="../../4%20Electromagnetism/Problem_1/" style="color: #fcfcfc">« Previous</a></span>
<span><a href="../../6%20Statistics/Problem_1/" style="color: #fcfcfc">Next »</a></span>
</span>
</div>
<script src="../../../js/jquery-3.6.0.min.js"></script>
<script>var base_url = "../../..";</script>
<script src="../../../js/theme_extra.js"></script>
<script src="../../../js/theme.js"></script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
<script src="../../../search/main.js"></script>
<script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>
</body>
</html>
